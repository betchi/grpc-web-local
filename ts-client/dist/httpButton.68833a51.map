{"version":3,"sources":["src/common.ts","src/httpButton.ts"],"names":[],"mappings":";AAoBa,aAAA,QAAA,YAAA,EApBA,QAAA,OAAS,SAAS,SAAU,SAE5B,QAAA,UAAY,SAAC,EAAY,EAAiB,GAC7C,IAAA,EAAM,SAAS,eAAe,EAAK,WACrC,GAAA,EAAK,CACL,EAAI,UAAY,GACV,IAAA,EAAO,SAAS,cAAc,QAChC,EAAa,GACD,KAAZ,GACA,EAAK,UAAY,iBACjB,EAAa,SAAW,EAAU,cAAgB,IAElD,EAAK,UAAY,kBACjB,EAAa,GAEjB,EAAK,UAAY,EACjB,EAAI,YAAY,KAIX,QAAA,KAAO,SAAC,EAAY,GACvB,IAAA,EAAe,SAAS,eAAe,EAAK,UAC9C,GAAA,EACG,IAAA,IAAI,EAAI,EAAG,EAAI,EAAa,WAAW,OAAQ,IAE7C,IADC,IAAA,EAAK,EAAa,WAAW,KAAK,GAC/B,EAAA,SAAA,GACD,IAAA,EAAI,EAAG,WAAW,KAAK,GAQzB,GAPgB,YAAhB,EAAE,YACJ,EAAE,UAAY,OAAO,GACrB,KAEkB,WAAhB,EAAE,YACJ,EAAE,GAAK,EAAK,QAAU,EAAI,WAER,QAAhB,EAAE,UAAqB,CACnB,IAAA,EAAK,EAAE,qBAAqB,UAAU,KAAK,GAC7C,GAAA,EAAG,CACC,IAAA,EAAQ,EAAK,QAAU,EAC7B,EAAE,iBAAiB,QAAS,WACtB,IAAA,EAAsB,WAAX,QAAA,OAAsB,EAAE,aAAa,kBAAoB,EAAE,aAAa,YACnF,IACF,EAAW,EAAS,QAAQ,aAAc,SAAS,YAEjD,EAAI,EAAU,QAlBjB,EAAI,EAAG,EAAI,EAAG,WAAW,OAAQ,IAAjC,EAAA;;ACGH,aAAA,QAAA,YAAA,EA5Bd,IAAA,EAAA,QAAA,YAEM,EAAiB,WACb,IAAA,EAAS,SAAS,eAAe,UACjC,EAAQ,SAAS,eAAe,SAElC,GAAC,GAAW,EAAZ,CAMW,UAAX,EAAA,QACA,EAAO,UAAU,IAHG,uBAIpB,EAAM,UAAU,OAJI,uBAKpB,EAAM,UAAU,IAJO,qBAMvB,EAAO,cAAc,aAAa,OAAQ,KAC1C,EAAM,cAAc,aAAa,OAAQ,4BAEzC,EAAO,UAAU,OAVG,uBAWpB,EAAO,UAAU,IAVM,qBAWvB,EAAM,UAAU,IAZI,uBAcpB,EAAO,cAAc,aAAa,OAAQ,yBAC1C,EAAM,cAAc,aAAa,OAAQ,QAGjD","file":"httpButton.68833a51.map","sourceRoot":"..","sourcesContent":["export const scheme = document.location!.protocol;\n\nexport const setResult = (id: string, message: string, errCode: string,) => {\n    const dom = document.getElementById(id + '-result');\n    if (dom) {\n        dom.innerHTML = '';\n        const span = document.createElement('span');\n        let innnerHTML = '';\n        if (errCode !== '') {\n            span.className = 'uk-text-danger';\n            innnerHTML = '[code]' + errCode + '\\n[message]' + message;\n        } else {\n            span.className = 'uk-text-primary';\n            innnerHTML = message;\n        }\n        span.innerHTML = innnerHTML;\n        dom.appendChild(span);\n    }\n}\n\nexport const init = (id: string, run: (endpoint: string, id: string) => void) => {\n    const grpcWebTbody = document.getElementById(id + '-tbody');\n    if (grpcWebTbody) {\n      for (let i = 0; i < grpcWebTbody.childNodes.length; i++) {\n        const tr = grpcWebTbody.childNodes.item(i);\n        for (let j = 0; j < tr.childNodes.length; j++) {\n          const e = tr.childNodes.item(j) as HTMLElement;\n          if (e.className === 'case-no') {\n            e.innerHTML = String(i);\n            i++;\n          }\n          if (e.className === 'result') {\n            e.id = id + '-case' + i + '-result';\n          }\n          if (e.className === 'run') {\n            const b  = e.getElementsByTagName('button').item(0);\n            if (b) {\n              const runId = id + '-case' + i;\n              b.addEventListener('click', () => {\n                let endpoint = scheme === 'https:' ? b.getAttribute('data-url-https') : b.getAttribute('data-url');\n                if (endpoint) {\n                  endpoint = endpoint.replace(/localhost/i, location.hostname);\n                  if (endpoint) {\n                    run(endpoint, runId);\n                  }\n                }\n              });\n            }\n          }\n        }\n      }\n    }\n  }","import { scheme } from './common';\n\nconst initHttpButton = () => {\n    const http11 = document.getElementById('http11');\n    const http2 = document.getElementById('http2');\n\n    if (!http11 || !http2) {\n        return;\n    }\n\n    const activeClassName = 'uk-button-secondary';\n    const nonActiveClassName = 'uk-button-default';\n    if (scheme === 'http:') {\n        http11.classList.add(activeClassName);\n        http2.classList.remove(activeClassName);\n        http2.classList.add(nonActiveClassName);\n\n        http11.parentElement.setAttribute('href', '#');\n        http2.parentElement.setAttribute('href', 'https://localhost:8083');\n    } else {\n        http11.classList.remove(activeClassName);\n        http11.classList.add(nonActiveClassName);\n        http2.classList.add(activeClassName);\n\n        http11.parentElement.setAttribute('href', 'http://localhost:8081');\n        http2.parentElement.setAttribute('href', '#');\n    }\n}\ninitHttpButton();"]}